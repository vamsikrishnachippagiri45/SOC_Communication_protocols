# SPI (Serial Peripheral Interface)

## Overview

SPI (Serial Peripheral Interface) is a **synchronous serial peripheral communication protocol** used for high-speed data exchange between a master device and one or more slave devices.

Unlike UART, SPI uses a **shared clock**, making it faster and more deterministic.  
SPI is widely used in SoC designs for interfacing with **flash memory, ADCs, DACs, sensors, and displays**.

This module provides a **synthesizable Verilog implementation of SPI**, suitable for FPGA and SoC-based designs.

---

## What is SPI?

SPI is a **master-driven, full-duplex communication protocol**.

Key characteristics:
- Synchronous communication
- Full-duplex data transfer
- Master–slave architecture
- Separate lines for data and clock

SPI is commonly used when:
- Higher speed than UART is required
- Simple hardware interface is preferred

---

## SPI Signals

SPI uses **four primary signals**:

| Signal | Description |
|------|-------------|
| SCLK | Serial Clock (generated by Master) |
| MOSI | Master Out Slave In |
| MISO | Master In Slave Out |
| SS / CS | Slave Select / Chip Select (active low) |

---

## SPI Operating Principle

- The **master generates the clock (SCLK)**
- Data is shifted on MOSI and MISO lines
- Communication occurs only when **CS is asserted low**
- One clock edge shifts data out
- The opposite clock edge samples data

---

## Clock Polarity and Phase

SPI behavior is defined by two parameters:

### CPOL (Clock Polarity)
- CPOL = 0 → Clock idle low
- CPOL = 1 → Clock idle high

### CPHA (Clock Phase)
- CPHA = 0 → Data sampled on first clock edge
- CPHA = 1 → Data sampled on second clock edge

These create **four SPI modes**:

| Mode | CPOL | CPHA |
|----|----|----|
| 0 | 0 | 0 |
| 1 | 0 | 1 |
| 2 | 1 | 0 |
| 3 | 1 | 1 |

---

## SPI Data Transfer

- Data is typically **8 bits**
- MSB-first (common) or LSB-first
- Full-duplex: transmission and reception occur simultaneously

---

## Implementation Features

- Master mode implementation
- Configurable CPOL and CPHA
- Programmable clock divider
- FSM-based control logic
- Synthesizable Verilog RTL

---

## Applications

- SPI Flash Memory
- ADC / DAC Interfaces
- Sensors and Displays
- Configuration registers

---

## Learning Objectives

This SPI implementation helps in understanding:
- Synchronous serial communication
- Clock domain control
- Shift-register based data transfer
- Timing alignment using CPOL/CPHA
- Peripheral integration in SoC designs

